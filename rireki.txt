青空文庫リーダー
    GPL2
    ベータバージョン
    ２０１３年７月２７日、　２０１２年９月２日、  ２０１４年１２月７日
    ２０１５年２月１７日

    概要
        青空文庫(http://www.aozora.gr.jp)のテキストファイルをPython(CPython)と
        gtk+2.0とPangoを用いて縦書き表示で読もう、というものです。

    開発及び動作確認環境
        PuppyLinux 571JP
            devx.sfs, pygtk及び関連ライブラリ一式
            TakaoEx明朝
            花園明朝A,B

    既知の問題点
    表示
    ・一部フォントでは正しく表示されません。(M+1P+IPAG等)
    ・フォントサイズの指定において、デスクトップのdpi情報は無視されます。
    ・unicode にもJISにもない文字は原則としてタグのままとなります。
    　実装した例外 !!! (感嘆符３つ)  IIII (ローマ数字４の代替)
    ・pangoに不具合があり、一部の文字が正しく表示されません。
        具体的には、
        １）マークアップして
        ２）特定の文字種が単独で出現した場合、
        ３）重力制御を振りきることがある。
        このため例えば行頭のかぎ括弧が横向きになったりします。
        別バージョンのバイナリを(PuppyLinux系も含む)他のOSから流用することは
        　避けてください。Xウインドウ上の全ての表示がおかしくなる可能性が
        　あります。
    ・使用するフォントはTakaoEx明朝及び花園明朝A・Bの併用を想定しています。
    　これら以外の組み合わせでは（ただでさえ酷い）表示が（さらに）崩れる場合が
    　あります。
    構成
    ・禁則処理に返り点・訓点送りがなの類は含まれません。手抜きです。
    ・右ページ、左ページの概念がありません。このため、改ページと改丁は同じ意味と
    　なります。
    ・ルビの禁則処理を行いません。
    ・ネストしたタグは正しく処理されない場合があります。
    ・扱えるのは青空文庫のサイトにアップロードされているテキストファイルのみです。
    　これ以外の形式、及びサイト外を参照しているファイルは開くことができません。
    　また、青空文庫の形式に準拠していない構成のテキストファイルは正しく表示され
    　ません。
    目次・履歴
    ・途中に一度も空行（改行のみの行）が出現しないテキストにおいては、目次が
    　作成されません（全てヘッダ扱いとなる為）。
    ・読書履歴（しおり機能）に解像度や文字の大きさの情報を持たせていないため、
    　これらの設定を変更した後、しおりを開くと意図しないページが表示されます。
    その他
    ・デバッグ用のメッセージ出力がそのままになっています。

    表示処理用に用意したタグ
        属性にsizeを使うと段落構成（1行の文字数のカウント）に支障がでます。
        <span>との弁別を省略しているためです。
        詳細はソースをご覧ください。
        <aozora img>            段落内に挿入される画像
        <aozora img2>           独立した段落に挿入される画像
        <aozora leftrubi>       左注記
        <aozora caption>        画像のキャプション
        <aozora bousen>         傍線・傍点
        <aozora tatenakayoko>   縦中横
        <aozora warichu>        割り注
        <aozora rubi>           ルビ

    開発履歴
    ２０１５年３月１８日
        ・インデックスファイルのリロード時のバグを修正。
        ・作品の関連人物（著者、翻訳者）のウェブサーチ機能を追加。
        ・画面サイズの検出におけるバグを修正。
        ・ページ表示をウィンドウタイトルから本文画面左上に移動。

    ２０１５年３月１７日
        ・JIS未定義外字変換をUnicodedata.lookup から unichr に変更。
        ・キー割り当てを一部変更。UIマネージャに取り込んで、
        　key_press_event_cb を整理。

    ２０１５年３月１６日
        ・全画面表示(F11)を追加。単にウィンドウを拡大するだけで、表示領域
        　が変化する訳ではありません。

    ２０１５年３月１４日
        ・ダウンロードルーチンを改変。
        ・クラスメンバの難読化を実施。typoの可能性あり。

    ２０１５年３月６日
        ・再起動時、テキストの読み込みに失敗するバグを修正。
        ・傍点の種類に応じてフォントサイズを本文とルビいずれかに切り替え。
        ・左ルビ位置指定がコメント落ちしていたのを修正。
        ・計算式のままだった定数を単一の定数に置換。
        ・既存の関数への中継だけだったコールバック関数を lambda に置換。

    ２０１５年３月５日
        ・ダイアログの破壊を検出せず、再度表示しようとした際セグるバグを
        　修正。
        ・インデックスファイルのZIPがあると、CSVの有無に関わらず展開しないで
        　戻るバグを修正。
        ・テキスト選択ダイアログを一部修正。

    ２０１５年３月４日
        ・設定ファイル(aozora.conf)に青空文庫インデックスファイルのURLを
        　追加。
        ・テキスト選択ダイアログを変更。
        ・関連付け検索機能を追加。現在開いているテキストの作者、翻訳者、
        　校正者をキーにして検索します。

    ２０１５年３月３日
        ・ルビや割り注等においてGravity指定のタイミングが間違っていた箇所を
        　修正。ImageSurfaceではそれらしく表示するのですが、PDFSurfaceでは
        　横書きになっていました。
        ・カレントテキストに作品IDを保持するように変更。

    ２０１５年３月２日
        ・目次機能を復活。
        ・メニュー項目の動的生成部分をクラスへ抜き出し。
        ・表示ルーチンの一部改変。特に修飾のない文字でも描画開始まで8回の
        　if判定を通過していたものを1回で済むように変更。

    ２０１５年３月１日
        ・目次機能を一時削除。
        ・履歴を動的生成に変更。直前に参照したテキストが最上位にくるように
        　なりました。

    ２０１５年２月
        試験導入したもの
            ・テキストオープンダイアログの試験的な差し替え。
            ・画像のキャプションを暫定的に横書きに変更。プログラムの構造上、
            　画像の直後で改ページしていたりするとキャプションが表示されません。
            ・画像直下に複数行からなるキャプションの横書き表示に対応。かなり、
            　強引に処理しています。ルビ等の修飾があるとおそらく失敗します。
            ・ルビの衝突について、後続の開始位置を繰り下げることでとりあえず
            　回避するようにしました。たくさん続くとどこにかかっているか分か
            　らなくなります。また最後は行からはみ出してしまいます。
            ・比較的使用頻度の高い合字を表示するようにしました。
                !!! (感嘆符３つ)  IIII (ローマ数字４の代替)

        新規導入あるいは追加導入したもの
            ・新規に実装したタグ
                    行左注記、割り注、横組み
            ・段落中の埋め込み画像に対応。
            ・文字幅補正にリガチャ（アクセント分解）分を追加。
            ・設定ファイルにフォントサイズのピクセル換算値を追加。
            ・縦中横の表示位置の自動補正を実装。
            ・キーボードショートカット及びメニュー項目を追加。
                しおりを挟む。         CTRL_D、ページ(P)->しおりを挟む(D)
                ページ指定ジャンプ     CTRL_J

        仕様変更
            ・画像表示の際の横幅制限を解除。大きさは表示領域の高さのみに制限
            　されます。
            ・二重山括弧の代わりに使われることの多い二重不等号を縦書き時の場合
            　二重山括弧へ置換するようにしました。レンダリング時に逐次行う為、
            　処理速度的に我慢の限界を越えています。
            ・アクセント分解で予約されていた〔〕を表示できるように修正。

        プログラミング上の変更点（新たなるバグの源とも）
            設定ファイル関係
            ・設定ファイルが非互換になってしまいました。起動に失敗する場合は、
            　~/.config/aozora/aozora.conf を削除して再度起動してください。
            　参照ディレクトリ関係を変更。起動しない場合は、
                $HOME/.cache/aozora
                $HOME/.config/aozora
                以下を削除して見てください。
            表示関係
            ・ダイアログの挙動を変更。呼び出し側が閉じればいっしょに終了するよ
            　うにしました。
            ・ログビューワを自動更新スタイルに変更しました。
            ・縦書き時に問題のあるPango(以下オリジナルPango)を使用した場合、
            　描画が破綻するケースがあったので、描画ルーチン側(class expango)
            　で対策。
            ・画像キャプションをセンタリング。
            ・cairo の取扱いにwithを導入。
            ・起動時の表紙画面の描画を本文処理ルーチンに変更。
            ・フォントサイズとピクセルとの換算比を 16./12. に変更。
            　即ち、ピクセルサイズ = round(フォントサイズ * (16./12.))
            ・ルビ表示を逐次処理に変更。
            ・ルビ表示行を廃止。
            ・レンダリング用タグを従来のpangoタグそのままから、独自タグの追加
            　拡張を実施。
            ・傍線の描画方法をフォントからcairoでの線引きに変更。但し、波線を
            　実装していません。
            ・ルビ表示位置を掛かり先頭から中央に変更。
            ・１行あたりの文字量について、フォーマッタで算出したものと実際の
            　表示でずれが生じる場合があるが、表示側(Pangocairoのlayout)から
            　ピクセル量を取得する方法で回避。
            ・文字サイズ変更時の換算倍率を調整。公比1.2とし、実際に表示して
            　ずれ具合を見ながら微調整しました。
            ・pango のメモリリークを回避するべく、レンダリングルーチンをサブ
            　プロセスに分離。
            ・フォーマッタにプログレスバーを備えたUIを用意。
            その他
            ・文字列編集処理の一部をリストとjoinに書き換えました。
            ・メモリ節約のため、レンダリングオブジェクトを使い捨てに変更。
            ・メモリ節約のため、フォーマッタを使い捨てに変更。これに伴い、
            　カレントテキストの情報を保持するクラスを作成して、フォーマッタ
            　より分離。
            ・レンダリング時の基準線をベースラインからセンターラインへ変更。
            ・履歴、しおりにZIPファイル名を記録するように変更。
            ・テキストファイルの展開先をキャッシュディレクトリ以下に変更。
            ・設定ファイルのバージョンをチェックし、必要であれば強制アップデー
            　トするように変更しました。
            ・タグの生成の一部を正規表現から辞書に変更。
            ・使わなくなったダイアログのモジュールファイル(aozoracard.py,
            　booklist.py)をリポジトリより削除。

        バグフィックス
            ・行分割時のタグ処理のバグを修正。ルーチンをかなり書き換えたので、
            　新しいバグを呼び込んでいる可能性もあります。
            ・描画色指定のバグを修正。
            ・Pangoバグ対策ルーチンのバグを修正。
            ・再起動時にテキストを開けなかったバグを修正。
            ・地付き処理のバグを修正。
            ・字上げ時の文字カウントのバグを修正。
            ・参照ディレクトリがないと起動できないバグを修正。
            ・しおり機能が正常終了しなかったバグを修正。
            ・履歴機能のバグを修正。
            ・フォントサイズ設定のバグを修正。
            ・一部文字が重力を振り切ってしまうバグを修正。
            ・レンダリング時に不要な改行コードが送られていたバグを修正。
            ・行末におけるルビ、左注記、挿入画像の分かち書きのバグを修正。
            ・傍点等が次行にまたがった場合、次行行頭の空白（字下げ等）にも効
            　果を及ぼしていたバグを修正。
            ・画像表示処理ルーチンの書き直し。

    ２０１５年１月
        新規導入あるいは試験導入したもの
        ・罫囲みに暫定対応。罫囲み内部で1文字分字下げするのが普通らしいの
        　ですが、字下げや字詰処理との兼ね合いもあり、罫囲みのほうを広げる
        　ことで見栄えを修正しています。
        　なお、１行単位での囲みは実装していません。段落単位のみとなります。
        ・アクセント分解に暫定対応。〔〕が不完全だと正しく動作しません。
        　本文中の〔〕は表示されません。
        ・いわゆるASCII文字について、Serif(TakaoEx明朝)使用時の文字幅を
        　対全角比で持たせることにしました。これにより、ローマ字が混ざる
        　文章でのレイアウトが改善します。（但し引き続きルビは崩れます。）
        ・文字の大きさや幅が変更になった場合における、１行あたりの文字数の
        　調整を試験的に導入。（セリフフォントのみ対応）
        ・画面設定変更直後からの再起動を追加。
        ・テキストフォーマット時、ウィンドウタイトルに経過を表示。
        ・メニューのツール(T)をページ(P)に変更し、先頭ページ及び最終ページへの
        　遷移を追加。
        ・先頭ページ及び最終ページへの遷移の際、テキストが開かれているか否かの
        　チェックを追加。
        ・改見開きを追加。但し、改ページと同じ扱い。
        ・改段に対応。但し改ページと同じ扱いです。
        ・青空文庫の仕様に基づき、改ページ、改丁、改段について、ページ先頭に
        　出現した場合は処理をスキップするように変更。
        ・傍線を細線（─）に、二重傍線を太線に変更。
        ・ページの左右中央に対応。
        ・波線に対応。

        プログラミング上の変更点（新たなるバグの源とも）
        ・外字変換をクラスからサブルーチンへ変更しました。
        ・一時ファイルの作成にtempfile を導入。またタグのネスティング処理に
        　対応するためスタック動作にしています。
        ・一部のタグ処理を辞書引きに変更。
        ・傍線、傍点の処理方法を変更。
        ・JIS外字及びUnicode文字の置換処理の位置を変更。ループの重複を
        　減らしました。
        ・定義されていない文字の表記から底本の頁・行情報を削除。
        ・'%s/%s' % (dir, file) を os.path.join(dir,file) に変更。（URLは除く)
        ・文字描画の設定をcairo.ANTIALIAS_DEFAULTに変更。
        ・テキスト冒頭（作品の表題、著者名等）の表示処理を変更。青空文庫の
        　規定に基づき最初の空行の出現で区切るようにしました。
        ・ダウンロードしたアーカイブの中にtxtファイルが含まれるかチェックする
        　処理を追加。
        ・ダウンロード時、ローカルに既存する場合は上書きするか問い合わせる
        　処理を追加。
        ・青空文庫形式の注記タグ［＃］のネスティングに暫定対応。
        ・formater をイテレータに変更。
        ・くの字記号の分離阻止を行末禁則処理に統合。
        ・未実装タグ除去の処理ルーチンを変更。
        ・フッタ検出を修正。
        ・傍線・傍点の処理を整理
        ・PEP 8 (Style Guide for Python Code)を見てコードを一部修正。

        バグフィックス
        ・ローカル保存されているテキストから作品名や著者名の取り出しに失敗する。
        ・開けないテキストがある（行頭禁則処理のバグ）。
        ・pangoタグが次行にまたがった際の禁則処理が間違っている。
        ・ルビ行のフォントサイズが本文行の半分に固定されている。
        ・hogehoge［＃「hogehoge」はホニャララ］形式のタグ処理にて、hogehoge
        　の前方参照に失敗することがある。
        　前方の hogehoge が hogehoge foo の場合、無限ループに陥る。
        ・アクセント分解（リガチャ）の定義漏れ。
        ・行途中に出現する地付き、字上げが動作しない。
        ・文字の大きさ変更が正しくない。3段階以上の大小には対応していません。
        　第3段階以上は第3段階となります。
        ・見出し等において文末のルビが欠落する。
        ・大見出し時に表示されない。
        ・地付きで1行に収まらない場合無限ループに陥る。
        ・字詰と地付きが連続すると無限ループに陥る。
        ・組み合わさって出現する返り点（一レ等）を検出できない。
        ・新着情報にてweb上に後続のページがない場合、リストが取得できない。
        　（年初だから検出できたバグ）。
        ・途中に改行を含む傍線及び傍点を正しく処理できない。
        ・イレギュラーなヘッダに遭遇すると本文そのものの読み込みに失敗する。
        ・キャプションが正しく表示されない。
        ・複数行に及ぶ見出しが正しく表示されない。
        ・目次作成が正しく行えない。

    ２０１４年１２月
        バグフィックス
        ・ローカル保存ファイル選択ダイアログのバグを修正。
        ・折り返し記号処理ルーチンのバグを修正。
        ・画像ファイルの読み込みに失敗するバグを修正。
        ・見出し処理の際、途中にルビがあると正しく表示されないバグを修正。
        ・ブロックインデントのバグ修正。
        ・Pangoタグ取扱い時のバグを修正。
        ・見出しの処理を修正。複数行見出しには未だ対応せず。
        ・禁則処理のバグを修正。
        ・外字の検出及び置換のバグを修正。

        変更点
        ・ライセンスをGPL2へ変更。
        ・動作確認環境に花園明朝を追加。OSにインストールすることで、
        　TakaoEx明朝にないUnicode文字が表示されるようになります。
        ・WXGA(XGA越)時のウインドウサイズを変更。

        追加された機能等
        UI
        ・メニュー
            読書履歴（いわゆる最近使用したファイル）
            ログファイルビューワ (logview.py)。
        ・ダイアログ
            ローカル保存の青空文庫一覧を新規差し替え。
        ・キー操作
            ページ戻り　                    shift + space
            ダイアログのキャンセル　         ESC
            新着情報の呼び出し               CTRL_N
            青空文庫にアクセス（著者別索引）  CTRL_F
            先頭ページ                       Home
            最終ページ                       End
            前ページ                         PgUp
            後ページ                         PgDn
        ・デバッグメッセージを標準出力から ~/.cache/aozora/aozora.log へ変更
        　(logging による)。

        フォーマッタ関連
        ・左傍線、左二重傍線、斜体、太字、地付き、字上げ、字詰
        ・ママ表記、ルビのママ表示
        ・返り点、訓点送り仮名を pango のタグを用いて一部対応。
            送り仮名（右寄せ小文字）　<sup></sup>
            返り点（左寄せ小文字） <sub></sub>
        ・下付き小文字、上付き小文字を pango のタグを用いて一部対応。
            数式に英単語が混ざると横組みで表示されます。英文字1文字だけの
            場合は縦書きのままです。
        ・行右小書きに部分対応。
        ・文字の大きさの指定に暫定的に対応
        ・JIS及びUnicode未定義の小書き片仮名にとりあえず対応。
        　※［＃小書き片仮名ヱ、1-234］等、ランボオ詩集/中原中也訳
        ・pango.Layoutのset_markupでエラーになる & < > を 各々&amp; &lt;
        　&gt; に置換。
        ・外字のUnicode指定に対応。但し、TakaoEx明朝等、JIS未登録文字に対応して
        　いないフォントでは正しく表示しません。
        ・英大文字(unicodedata.category() == 'Lu')を全角1文字と同幅として
        　処理するように変更。大文字ばかりの綴りが出現すると桁溢れを起こして読め
        　なくなるため。
        ・挿図タグの揺らぎに対応（踊る人形/大久保ゆう改訳）
        ・フッター部分のアラビア数字を全て漢数字に変換していたものを、年月日刷
        　部分のみに変更。
        ・行頭禁則処理を一部変更
        　２文字目を処理する際、括弧類なら前行末にぶら下げ、小さい仮名文字等は
        　前行から１字もらってくるようにしました。
        ・字下げタグの揺らぎに対応。
        ・見出しのフォントをSansに、大見出しのフォントサイズを larger に変更。
        ・文字変換ルーチンに(jis3.py)JIS1面1区の文字を追加。
        ・一部のタグの揺らぎに対応。
                ［＃(ここから)??横組み］［＃(ここで)??横組み終わり］
        ・<sup></sup>, <sub></sub>については、表示される際の文字幅を考慮
        　していないので、1行に大量に出現すると後続のルビ位置がおかしくなり
        　ます。
        ・［＃本文終わり］に対応。
        ・画像の最大幅を表示領域の半分に制限。

        内部改変された部分等
        ・表示ルーチンの見直し。
        ・JIS3.py を jis3.py へ名称変更。
        ・挿図タグに図のピクセルサイズが正しく記されていない場合があるので、
        　直接に図(pngファイル)を参照してサイズを得る方法に変更。

        削除された機能等
        ・# vim: を削除。
        ・青空文庫の制御文字列である　［＃］を【＃】と表記するテキストへの対応
        　部分を削除。
        　かつて検出されたテキスト(絶対矛盾的自己同一　西田幾多郎)側で修正され
        　ているため。

    ２０１４年７月
        ・新着情報にアクセスする為のダイアログを追加
        ・青空文庫のダウンロードルーチンを readersub.py へ移動。
        ・ばつ傍点等の傍点に対応。
        ・未実装な注記（青空文庫におけるタグ）の読み飛ばしを追加。
        ・二重山括弧を表示できない（ルビを示す注記として処理される）ので、
        　不等号（非常に大きい、小さい）で代替。
        ・フォント設定部分のバグフィックス
        ・解像度によって画像表示位置がずれる件を修正

    ２０１４年３月
        ・青空文庫の著作者欄にある、Webページ(もっぱらWikipedia)への
          リンク機能を追加

    ２０１４年２月
        ・青空文庫へのオンラインアクセス機能を追加
        ・文字フォント及びマージン、行間の指定機能を追加

    ２０１３年１１月
        ・ワンタイム地上げが動作していなかったのを修正
        ・解像度変更機能、フォントサイズ変更機能を追加
        　但し、挿絵の大きさの調整はXGA固定のまま

    ２０１３年１０月
        ・unstable としてバージョン変更。
        ・JIS第3、第4水準の変換ルーチンをモジュールとして分離

    ２０１３年８月
        ・ファイル選択ダイアログにて翻訳物の原著者が表示されなかった点を修正
        ・タグ［＃地付き］に対応
        ・書籍選択及びしおりの各ダイアログにて項目のソート機能を追加
        ・ダブルクォーテーションのノノカギへの変換に対応
        ・作業ディレクトリの参照方法を整理
        ・挿図の表示機能の追加

    ２０１３年７月
        ・青空文庫の制御文字列である　［＃］を【＃】と表記するテキストへの対応
        　(絶対矛盾的自己同一　西田幾多郎)
        ・外字の拾い出しのバグフィックス
        ・傍点の体裁を良くしようとしてかえってレイアウトが崩れた点を修正
        ・傍線に対応
        ・ヘッダ2行目を副題として扱う

    ２０１２年１０月
        ・ファイルオープンダイアログを自作の物に変更。青空文庫ファイルを読み込
        　んで、作品名と著作者名を表示。
        ・傍点、傍線、二重傍線の表示改善。但し、二重傍線は未テスト。
        ・既知の問題
            引き続き、本文に英文字が含まれるとルビ位置が狂う。
            1段落が長くなると、読み込み漏れが起こる。
            例えば、夏目漱石　我輩は猫である
            （デフォルト設定ならば）28頁付近。バッファ切れか？
            極端に大きいファイルを読み込ませようとすると暴走する。

    ２０１２年９月
        ・しおりを開く際に、必ず原ファイル（青空ファイル）を読み込みなおして
        　いたのを現在見ているファイルと同じであれば、読み込みせずにページジャン
        　プするように変更。
        ・フォーマッタ第1パスを次のように変更
            書名、著者名の取得を別ルーチンに書き出して分離。
            置換時に中間ファイルを作成していたのをジェネレータに書き改めた。
            これらによりプログラムの見通しは改善されたが、動作速度の向上は感
            じられず。
        ・ルビの処理
        　青空文庫の仕様に則り、本文における文字種の切り替わり時をルビ先頭として
        　マークするように変更。
        ・ルビ表示の改善。
        　ツール - 移動　のカウンタの上限を設定。
        ・既知の問題
            本文に半角文字が混じるとルビの位置がズレる。
            禁則処理時のルビ位置の調整がおそらく不完全。行末禁則は概ね問題なさ
            そうだが行頭禁則処理は未確認。
        ・ルビ表示へとりあえず対応。表示に等幅フォントを用い、ルビを本文の半分の
        　大きさにすることで簡便に処理している。
        　（ビットマップディスプレイで用いる手法ではないと思う。）
        ・ルビが複数行にまたがる場合、正しく表示できない。
        ・ルビが本文より長い場合、例えば漢字1文字に4文字以上のルビが振ってある
        　場合等では後続の桁がずれる。
        ・傍点をルビに置換して簡易表示。ルビの表示位置の切り出しを漢字、英字、
        　カタカナに限定しているのでひらがなに傍点を打つことが出来ない。
        ・また、REによる置換を行っているが処理がいい加減なので、1段落に複数出現
        　すると正しく表示されない。
        ・ルビ未対応のまま、一旦FIXし、フォーマッタから再度作成しなおし。
        ・formater 分割
        ・くの字　／＼　／゛＼ の　〳〵 〴〵への置換と分割禁止
        ・フッタにおける年月日を漢数字に置換
        ・禁則処理に全角（）等一部が含まれていなかったのを追加。
        ・半角文字が全角文字と同じように1文字としてカウントされていたのを0.5文字
        　としてカウントするように修正。
        ・これにより、等幅フォント使用時であれば英文横書きが混在しても１行に可能
        　な限り文字を詰め込んで表示する。
        ・1文字未満の文字（半角文字数の合計が奇数の場合）は切り捨てる。
        　この際、2重禁則が発生すると1行が長くなって見苦しくなる。
        　（歯車 芥川龍之介）
        ・JIS第3水準、第4水準を実装
        ・ルビ表示領域の調整
        ・初期画面表示の際、処理の重複があった点を修正
        ・フォーマッタ修正
        ・著者及び翻訳者名の解釈が正しくできなかった点を修正
        ・文字装飾のテスト
        ・フォーマット時にタグを挿入し、描画ルーチンで装飾してみる。が、バグっぽい。
        ・改行のみの行が、完全に削除されていたのを修正
        ・外字変換ルーチン（仮）
        ・フォーマッタ修正
        ・青空タグの除去がうまくいかなかった点を改善
        ・目次ジャンプの実装（仮）
        ・行頭禁則処理の2重化

    ２０１２年９月２日
        アルファバージョン脱稿、ベータバージョン開発開始